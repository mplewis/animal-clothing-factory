[gd_scene load_steps=42 format=3 uid="uid://04nkfngwj4ig"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_dpgjl"]
[ext_resource type="Shader" path="res://assets/colorizer.gdshader" id="2_1hncl"]
[ext_resource type="Texture2D" uid="uid://crvrjm0w8wta3" path="res://assets/images/machinery_and_bkg_atlas.png" id="2_iaqxi"]
[ext_resource type="AudioStream" uid="uid://caaj16u4gml3v" path="res://assets/sfx/hair_dryer_loop.ogg" id="3_1yd45"]
[ext_resource type="Script" path="res://scripts/shrink_sound.gd" id="3_7l8gu"]
[ext_resource type="PackedScene" uid="uid://l7d067uk73u7" path="res://scenes/animals/centipede.tscn" id="5_5sdqw"]
[ext_resource type="AudioStream" uid="uid://blymo1uwy7s17" path="res://assets/sfx/grow_ray.ogg" id="5_kb2au"]
[ext_resource type="PackedScene" uid="uid://d20wf6k5ng4n7" path="res://scenes/animals/lobster.tscn" id="6_bne8v"]
[ext_resource type="AudioStream" uid="uid://bo25gto4pxs2v" path="res://assets/sfx/score_bad.ogg" id="7_2d34m"]
[ext_resource type="AudioStream" uid="uid://h0eovlvokwdy" path="res://assets/sfx/ambience/ambience_loop_1.ogg" id="7_hi6i3"]
[ext_resource type="AudioStream" uid="uid://bnf7nnt5qo5g0" path="res://assets/bgm/gameplay_music_intro.ogg" id="7_l8cit"]
[ext_resource type="PackedScene" uid="uid://e7gcghoukl5u" path="res://scenes/animals/rhino.tscn" id="7_pvpqg"]
[ext_resource type="AudioStream" uid="uid://cofgtp0cldsoa" path="res://assets/bgm/gameplay_music_loop.ogg" id="8_55luv"]
[ext_resource type="AudioStream" uid="uid://rf57x1vb0aps" path="res://assets/sfx/ambience/ambience_loop_2.ogg" id="8_ebu58"]
[ext_resource type="AudioStream" uid="uid://b2tgqm8rha3rs" path="res://assets/sfx/conveyor_belt_loop.ogg" id="8_m6ttv"]
[ext_resource type="AudioStream" uid="uid://clteqqmqct2mx" path="res://assets/sfx/score_ok.ogg" id="8_nynau"]
[ext_resource type="AudioStream" uid="uid://caa83ibl40ftj" path="res://assets/sfx/score_good.ogg" id="9_00gyo"]
[ext_resource type="AudioStream" uid="uid://bg8s2drtmtjo0" path="res://assets/sfx/ambience/ambience_loop_3.ogg" id="9_58dmd"]
[ext_resource type="AudioStream" uid="uid://cklrc5ptq357w" path="res://assets/sfx/ambience/ambience_loop_4.ogg" id="10_mb3k5"]
[ext_resource type="AudioStream" uid="uid://dkuctgiwhd0m" path="res://assets/sfx/score_super.ogg" id="10_n8s8l"]
[ext_resource type="Texture2D" uid="uid://belqxyau5pd2c" path="res://assets/stock/keycap.png" id="11_gu13l"]
[ext_resource type="AudioStream" uid="uid://b5afojinxghjf" path="res://assets/sfx/claw_down.ogg" id="11_ip0fr"]
[ext_resource type="AudioStream" uid="uid://bm50u28ianyj8" path="res://assets/sfx/claw_up.ogg" id="12_qh8lc"]
[ext_resource type="Theme" uid="uid://dal531wffb080" path="res://themes/default.tres" id="15_pex5s"]
[ext_resource type="Script" path="res://scripts/object_creator.gd" id="16_1fh1g"]
[ext_resource type="AudioStream" uid="uid://bnvhou83fcr37" path="res://assets/sfx/clothing/clothing_foley_01.ogg" id="16_d3dx3"]
[ext_resource type="AudioStream" uid="uid://bq245ymky1jdb" path="res://assets/sfx/clothing/clothing_foley_02.ogg" id="17_0n0ep"]
[ext_resource type="PackedScene" uid="uid://bt7dqqlwomcgr" path="res://scenes/animals/alpaca.tscn" id="17_gal1w"]
[ext_resource type="AudioStream" uid="uid://mdcyp7btjvlq" path="res://assets/sfx/clothing/clothing_foley_03.ogg" id="18_eocql"]
[ext_resource type="AudioStream" uid="uid://dv8metix63rfx" path="res://assets/sfx/clothing/clothing_foley_04.ogg" id="19_mm6tx"]
[ext_resource type="AudioStream" uid="uid://dxp86cdbi544t" path="res://assets/sfx/clothing/clothing_foley_05.ogg" id="20_lf1vk"]
[ext_resource type="AudioStream" uid="uid://dqxt7d5j8oc5j" path="res://assets/sfx/clothing/clothing_foley_06.ogg" id="21_as16d"]
[ext_resource type="AudioStream" uid="uid://pj3krkcpsaqg" path="res://assets/sfx/clothing/clothing_foley_07.ogg" id="22_8byjv"]
[ext_resource type="PackedScene" uid="uid://dpmmxmh25m8m5" path="res://scenes/conveyor.tscn" id="33_5bulk"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vlcmk"]
shader = ExtResource("2_1hncl")
shader_parameter/light_color = Color(0.273438, 0.273438, 0.273438, 1)
shader_parameter/dark_color = Color(0.167969, 0.167969, 0.167969, 1)

[sub_resource type="AudioStreamPlaylist" id="AudioStreamPlaylist_5op4m"]
loop = false
fade_time = 0.0
stream_count = 5
stream_0 = ExtResource("7_l8cit")
stream_1 = ExtResource("8_55luv")
stream_2 = ExtResource("8_55luv")
stream_3 = ExtResource("8_55luv")
stream_4 = ExtResource("8_55luv")

[sub_resource type="AudioStreamSynchronized" id="AudioStreamSynchronized_junc2"]
stream_count = 4
stream_0/stream = ExtResource("7_hi6i3")
stream_0/volume = 0.0
stream_1/stream = ExtResource("8_ebu58")
stream_1/volume = 0.0
stream_2/stream = ExtResource("9_58dmd")
stream_2/volume = 0.0
stream_3/stream = ExtResource("10_mb3k5")
stream_3/volume = 0.0

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_imbht"]
streams_count = 7
stream_0/stream = ExtResource("16_d3dx3")
stream_1/stream = ExtResource("17_0n0ep")
stream_2/stream = ExtResource("18_eocql")
stream_3/stream = ExtResource("19_mm6tx")
stream_4/stream = ExtResource("20_lf1vk")
stream_5/stream = ExtResource("21_as16d")
stream_6/stream = ExtResource("22_8byjv")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nslov"]
shader = ExtResource("2_1hncl")
shader_parameter/light_color = Color(0.734375, 0.734375, 0.734375, 1)
shader_parameter/dark_color = Color(0, 0, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sntpb"]
shader = ExtResource("2_1hncl")
shader_parameter/light_color = Color(0.550781, 0.550781, 0.550781, 1)
shader_parameter/dark_color = null

[sub_resource type="ShaderMaterial" id="ShaderMaterial_uv85l"]
shader = ExtResource("2_1hncl")
shader_parameter/light_color = Color(0.558594, 0.558594, 0.558594, 1)
shader_parameter/dark_color = Color(0, 0, 0, 1)

[node name="Game" type="Node2D" node_paths=PackedStringArray("new_clothing_anchor_node", "object_creator", "belt_height", "dressed_animal_anchor")]
script = ExtResource("1_dpgjl")
new_clothing_anchor_node = NodePath("Gameplay/Grabber/NewClothingAnchor")
object_creator = NodePath("ObjectCreator")
belt_height = NodePath("Gameplay/BeltHeight")
dressed_animal_anchor = NodePath("DressedAnimal")
GAME_DURATION_SECS = null

[node name="Background" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_vlcmk")
position = Vector2(960, 540)
scale = Vector2(1.3, 1.3)
texture = ExtResource("2_iaqxi")
region_enabled = true
region_rect = Rect2(0, 0, 1920, 1080)

[node name="SecTimer" type="Timer" parent="."]
autostart = true

[node name="ObjectCreator" type="Node" parent="."]
script = ExtResource("16_1fh1g")
PossibleAnimals = Array[PackedScene]([ExtResource("17_gal1w"), ExtResource("5_5sdqw"), ExtResource("6_bne8v"), ExtResource("7_pvpqg")])

[node name="DressedAnimal" type="Node2D" parent="."]

[node name="Audio" type="Node2D" parent="."]
position = Vector2(964, 0)

[node name="BGM" type="AudioStreamPlayer2D" parent="Audio"]
stream = SubResource("AudioStreamPlaylist_5op4m")
volume_db = 10.0
autoplay = true
panning_strength = 0.0
bus = &"music"

[node name="Ambience" type="AudioStreamPlayer" parent="Audio"]
stream = SubResource("AudioStreamSynchronized_junc2")
autoplay = true
bus = &"ambience"

[node name="Clothing" type="AudioStreamPlayer" parent="Audio"]
stream = SubResource("AudioStreamRandomizer_imbht")
volume_db = -6.0
bus = &"sfx"

[node name="Grow" type="AudioStreamPlayer2D" parent="Audio"]
position = Vector2(-477, 156)
stream = ExtResource("5_kb2au")
bus = &"sfx"

[node name="Shrink" type="AudioStreamPlayer2D" parent="Audio"]
position = Vector2(516, 165)
stream = ExtResource("3_1yd45")
volume_db = -80.0
pitch_scale = 0.01
autoplay = true
bus = &"sfx"
script = ExtResource("3_7l8gu")

[node name="BeltMove" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("8_m6ttv")
volume_db = -4.885
bus = &"sfx"

[node name="ClawDown" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("11_ip0fr")
bus = &"sfx"

[node name="ClawUp" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("12_qh8lc")
bus = &"sfx"

[node name="Score" type="Node2D" parent="Audio"]

[node name="Bad" type="AudioStreamPlayer2D" parent="Audio/Score"]
stream = ExtResource("7_2d34m")
bus = &"sfx"

[node name="OK" type="AudioStreamPlayer2D" parent="Audio/Score"]
stream = ExtResource("8_nynau")
bus = &"sfx"

[node name="Good" type="AudioStreamPlayer2D" parent="Audio/Score"]
stream = ExtResource("9_00gyo")
bus = &"sfx"

[node name="Great" type="AudioStreamPlayer2D" parent="Audio/Score"]
stream = ExtResource("10_n8s8l")
bus = &"sfx"

[node name="Gameplay" type="Node2D" parent="."]

[node name="BeltHeight" type="Node2D" parent="Gameplay"]
position = Vector2(952, 870)

[node name="Conveyor" parent="Gameplay" instance=ExtResource("33_5bulk")]
position = Vector2(915, 929)
scale = Vector2(1.3, 1.3)

[node name="Grabber" type="Node2D" parent="Gameplay"]
material = SubResource("ShaderMaterial_nslov")
position = Vector2(964, -86)

[node name="GrabberArm" type="Sprite2D" parent="Gameplay/Grabber"]
use_parent_material = true
position = Vector2(-1, -61)
rotation = -1.5708
texture = ExtResource("2_iaqxi")
region_enabled = true
region_rect = Rect2(1489.2, 1104.17, 416.462, 200.125)

[node name="GrabberClaws" type="Node2D" parent="Gameplay/Grabber/GrabberArm"]
use_parent_material = true
position = Vector2(-186, -0.999998)
rotation = 1.5708

[node name="GrabberClawLeft" type="Sprite2D" parent="Gameplay/Grabber/GrabberArm/GrabberClaws"]
use_parent_material = true
position = Vector2(-34.0007, 38)
rotation = 0.331613
texture = ExtResource("2_iaqxi")
region_enabled = true
region_rect = Rect2(64.8388, 1134.23, 62.7599, 118.982)

[node name="GrabberClawRight" type="Sprite2D" parent="Gameplay/Grabber/GrabberArm/GrabberClaws"]
use_parent_material = true
position = Vector2(40.9993, 35)
rotation = -0.296706
texture = ExtResource("2_iaqxi")
region_enabled = true
region_rect = Rect2(131.926, 1134.75, 57.312, 118.982)

[node name="NewClothingAnchor" type="Node2D" parent="Gameplay/Grabber"]
position = Vector2(-1, 217)
scale = Vector2(0.416667, 0.416667)

[node name="GrowTool" type="Node2D" parent="Gameplay"]
position = Vector2(534, 242)
scale = Vector2(1.29, 1.29)

[node name="GrowToolSprite" type="Sprite2D" parent="Gameplay/GrowTool"]
material = SubResource("ShaderMaterial_sntpb")
position = Vector2(-48, 95)
texture = ExtResource("2_iaqxi")
region_enabled = true
region_rect = Rect2(518.732, 1137.55, 344.5, 213)

[node name="ShrinkTool" type="Node2D" parent="Gameplay"]
position = Vector2(1640, 256)
scale = Vector2(1.29, 1.29)

[node name="ShrinkToolSprite" type="Sprite2D" parent="Gameplay/ShrinkTool"]
material = SubResource("ShaderMaterial_uv85l")
position = Vector2(-99, 105)
texture = ExtResource("2_iaqxi")
region_enabled = true
region_rect = Rect2(906.218, 1111.21, 538.326, 247.082)

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="StarLabel" type="Label" parent="UI"]
layout_mode = 0
offset_left = 1824.0
offset_top = 19.0
offset_right = 1924.0
offset_bottom = 119.0
theme = ExtResource("15_pex5s")
theme_override_font_sizes/font_size = 64
text = "⭐"

[node name="ScoreLabel" type="Label" parent="UI/StarLabel"]
layout_mode = 0
offset_left = -212.0
offset_top = -15.0
offset_right = -12.0
offset_bottom = 85.0
theme = ExtResource("15_pex5s")
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 64
text = "0"
horizontal_alignment = 2
vertical_alignment = 1

[node name="ClockLabel" type="Label" parent="UI"]
layout_mode = 0
offset_left = -11.0
offset_top = 20.0
offset_right = 89.0
offset_bottom = 120.0
theme = ExtResource("15_pex5s")
theme_override_font_sizes/font_size = 64
text = "⏳"
horizontal_alignment = 2

[node name="TimerLabel" type="Label" parent="UI/ClockLabel"]
layout_mode = 0
offset_left = 103.0
offset_top = -15.0
offset_right = 303.0
offset_bottom = 85.0
theme = ExtResource("15_pex5s")
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 64
text = "0"
vertical_alignment = 1

[node name="FeedbackLabel" type="Label" parent="UI"]
visible = false
layout_mode = 0
offset_left = 1074.0
offset_top = 157.0
offset_right = 1874.0
offset_bottom = 257.0
theme = ExtResource("15_pex5s")
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 64
text = "Awesome!!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="StarsLabel" type="Label" parent="UI/FeedbackLabel"]
layout_mode = 0
offset_top = -57.0
offset_right = 800.0
offset_bottom = 43.0
theme = ExtResource("15_pex5s")
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 64
text = "⭐⭐⭐⭐⭐"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HintGrow" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 0
offset_left = 270.0
offset_top = 269.0
offset_right = 362.0
offset_bottom = 361.0

[node name="Keycap" type="Sprite2D" parent="UI/HintGrow"]
position = Vector2(46.0001, 54)
scale = Vector2(0.434332, 0.434332)
texture = ExtResource("11_gu13l")

[node name="KeyLabel" type="Label" parent="UI/HintGrow"]
layout_mode = 0
offset_right = 92.0
offset_bottom = 92.0
theme = ExtResource("15_pex5s")
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 64
text = "A"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HintShrink" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 0
offset_left = 1496.0
offset_top = 278.0
offset_right = 1588.0
offset_bottom = 370.0

[node name="Keycap" type="Sprite2D" parent="UI/HintShrink"]
position = Vector2(46.0001, 54)
scale = Vector2(0.434332, 0.434332)
texture = ExtResource("11_gu13l")

[node name="KeyLabel" type="Label" parent="UI/HintShrink"]
layout_mode = 0
offset_right = 92.0
offset_bottom = 92.0
theme = ExtResource("15_pex5s")
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 64
text = "A"
horizontal_alignment = 1
vertical_alignment = 1

[connection signal="shrink_sound_start" from="." to="Audio/Shrink" method="_on_game_shrink_sound_start"]
[connection signal="shrink_sound_stop" from="." to="Audio/Shrink" method="_on_game_shrink_sound_stop"]
